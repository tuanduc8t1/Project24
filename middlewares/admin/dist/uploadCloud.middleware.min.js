"use strict";var cloudinary=require("cloudinary").v2,streamifier=require("streamifier");cloudinary.config({cloud_name:process.env.CLOUDINARY_CLOUD_NAME,api_key:process.env.CLOUDINARY_API_KEY,api_secret:process.env.CLOUDINARY_API_SECRET}),module.exports.uploadSingle=function(e,r,n){if(e.file){var i=function(r){return new Promise(function(n,i){var e=cloudinary.uploader.upload_stream(function(e,r){r?n(r):i(e)});streamifier.createReadStream(r.file.buffer).pipe(e)})};a=e,regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(i(a));case 2:t=e.sent,a.body[a.file.fieldname]=t.url,n();case 5:case"end":return e.stop()}})}else n();var a,t};
//# sourceMappingURL=uploadCloud.middleware.min.js.map
